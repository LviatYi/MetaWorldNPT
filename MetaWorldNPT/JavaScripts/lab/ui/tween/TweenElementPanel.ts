import TweenElement_Generate from "../../../ui-generate/UIAnimLab/tween/TweenElement_generate";
import TweenTaskGroup from "../../../depend/waterween/TweenTaskGroup";
import Waterween from "../../../depend/waterween/Waterween";
import Gtk from "../../../util/GToolkit";
import Easing from "../../../depend/easing/Easing";

export default class TweenElementPanel extends TweenElement_Generate {

//#region Member
    private _arrowTweenTask: TweenTaskGroup;
//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄

//#region MetaWorld UI Event

    protected onAwake(): void {
        super.onAwake();
        this.canUpdate = true;

//#region Member init
//#endregion ------------------------------------------------------------------------------------------

//#region Widget bind
//#endregion ------------------------------------------------------------------------------------------

//#region Event subscribe
//#endregion ------------------------------------------------------------------------------------------
    }

    protected onUpdate() {
    }

    protected onShow() {
    }

    protected onHide() {
    }

//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄

//#region Init
    public initTweenTask() {
        this._arrowTweenTask = new TweenTaskGroup();
        this._arrowTweenTask = Waterween
            .group(
                () => ({
                    arrowY: this.imgArrow.position.y,
                    scaleX: this.imgArrow.renderScale.x,
                    scaleY: this.imgArrow.renderScale.y,
                }),
                (val) => {
                    Gtk.setUiPosition(this.imgArrow, this.imgArrow.position.x, val.arrowY);
                    Gtk.setUiScale(this.imgArrow, val.scaleX, val.scaleY);
                    // this.imgArrow.position = Gtk.newWithY(this.imgArrow.position, val.arrowY);
                    // this.imgArrow.renderScale = new mw.Vector2(val.scaleX, val.scaleY);
                },
                [
                    {dist: {arrowY: 7}, duration: 167},
                    {dist: {arrowY: -7}, duration: 167},
                    {dist: {arrowY: 7, scaleY: 0.9}, duration: 300},
                    {dist: {arrowY: -14, scaleX: 0.9, scaleY: 1.12}, duration: 167},
                    {dist: {arrowY: -14, scaleX: 0.9, scaleY: 1.12}, duration: 167},
                    {dist: {scaleX: 1, scaleY: 1}, duration: 167},
                    {dist: {arrowY: 0}, duration: 167},
                ],
                {arrowY: 0, scaleX: 1, scaleY: 1},
            )
            .repeat()
            .restart();
    }

    public initSeqTweenTask(now: number) {
        let originY = this.imgArrow.position.y;
        Waterween.to(
            () => {
                return ({positionX: this.imgArrow.position.x});
            },
            (val) => Gtk.setUiPosition(this.imgArrow, val.positionX, originY),
            {positionX: this.imgArrow.position.x + 20},
            500,
            {positionX: this.imgArrow.position.x},
            Easing.easeInOutCirc,
            undefined,
            now,
        )
            .repeat()
            .restart(false, now);
    }

//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄

//#region UI Behavior
//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄

//#region Event Callback
//#endregion ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠒⠒⠒⠒⠚⠛⣿⡟⠄⠄⢠⠄⠄⠄⡄⠄⠄⣠⡶⠶⣶⠶⠶⠂⣠⣶⣶⠂⠄⣸⡿⠄⠄⢀⣿⠇⠄⣰⡿⣠⡾⠋⠄⣼⡟⠄⣠⡾⠋⣾⠏⠄⢰⣿⠁⠄⠄⣾⡏⠄⠠⠿⠿⠋⠠⠶⠶⠿⠶⠾⠋⠄⠽⠟⠄⠄⠄⠃⠄⠄⣼⣿⣤⡤⠤⠤⠤⠤⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
}